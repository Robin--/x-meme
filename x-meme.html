<link rel="import" href="../polymer/polymer.html">

<!--
The meme element for modern web. [**Live demo**](../x-meme/demo.html)

<iframe src="http://ghbtns.com/github-btn.html?user=karan&repo=x-meme&type=watch&count=true&size=large" allowtransparency="true" frameborder="0" scrolling="0" width="170" height="30"></iframe>

##### Example
  
  Add an image, top text and bottom text

    <x-meme src="http://i.imgur.com/Jy7rCQx.jpg" top="oh you know html?" bottom="that's so cute."></x-meme>

  Make the text uppercase

    <x-meme src="https://i.imgflip.com/26am.jpg" bottom="germans!" uppercase="true"></x-meme>

@element x-meme
@blurb The meme element for modern web.
@status alpha
@homepage http://karan.github.io/x-meme
-->
<polymer-element name="x-meme" attributes="src top bottom uppercase">

  <template>

    <style>
      :host {
        display: block;
      }

      .meme {
        position: relative;
        -webkit-box-align:center;
        -webkit-box-pack:center;
        display:-webkit-box;
      }
      .x-meme-top, .x-meme-bottom {
        font-family: Impact;
        font-size: 2em;
        -webkit-text-stroke: 1px black;
        text-shadow:
           3px 3px 0 #000,
         -1px -1px 0 #000,  
          1px -1px 0 #000,
          -1px 1px 0 #000,
           1px 1px 0 #000;
        color: white;
        z-index: 3;
        text-align: center;
        word-wrap: break-word;
        position: absolute;
        padding: 5px 0;
      }
      .x-meme-top {
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      }
      .x-meme-bottom {
        position: absolute;
        bottom: 0px;
        left: 0px;
        right: 0px;
      }
      .x-meme-img {
        z-index: -1;
        border: 0px;
        margin: 0px;
        text-align: center;
        position: relative;
      }
    </style>

    <content>
      <div class="meme">
        <div class="x-meme-top">{{top}}</div>
        <div class="x-meme-img"><img src="{{src}}"></div>
        <div class="x-meme-bottom">{{bottom}}</div>
      </div>
    </content>

  </template>

  <script>

    Polymer({
      /**
       * The image to be used for the meme.
       * 
       * @attribute src
       * @type string
       */
       src: 'http://i.imgur.com/C8HxtHM.jpg',

       /**
       * The text to be placed on the top of image. Can be empty.
       * 
       * @attribute top
       * @type string
       */
       top: '',

       /**
       * The text to be placed on the bottom of image. Can be empty.
       * 
       * @attribute bottom
       * @type string
       */
       bottom: '',

       /**
       * If `true`, sets the text to uppercase. Can be omitted for 
       * `false`.
       * 
       * @attribute uppercase
       * @type boolean
       */
       bottom: '',

       ready: function() {
        if (this.uppercase) {
          this.top = this.top.toUpperCase();
          this.bottom = this.bottom.toUpperCase();
        }
       }
    });

  </script>

</polymer-element>
